<!doctype html>
<html lang="ko">
<head>
	<title>UI Page</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="format-detection" content="telephone=no">
	<!-- <link href="../img/common/favicon.ico" rel="shrtcut icon">
	<link href="../img/common/favicon.png" rel="apple-touch-icon-precomposed"> -->
	<link rel="stylesheet" href="../css/style.css">

	
</head>
<body class="body">
	<div class="wrap">
		<!-- 헤더 -->
		<header class="header">
			<h1>헤더</h1>
		</header>
		<main class="container">
			<div class="">
				<h2>스와이퍼</h2>
				<div class="container-swiper">
					<div class="swiper mySwiper2 bigSwiper" id="swiper-wrapper-2">
						<div class="swiper-wrapper">
							<!-- 스와이퍼 이미지 호출 -->
						</div>
						<div class="swiper-button-next"></div>
						<div class="swiper-button-prev"></div>
					</div>
					<div thumbsSlider="" class="swiper mySwiper smallSwiper" id="swiper-wrapper-1">
						<div class="swiper-wrapper">
							<!-- // 스와이퍼 이미지 호출 -->
							<!-- <div class="swiper-slide">
								<img src="https://swiperjs.com/demos/images/nature-1.jpg" />
							</div> -->
						</div>
					</div>
				</div>
			</div>

			<div class="">
				<h2>클래스</h2>
				<p>멀티 클래스는 a ~ * 로 진행</p>
			</div>
			<div class="">
				<h2>아이콘</h2>
				<div>
					<div class="icon"><span class="blind">아이콘</span></div>
				</div>
			</div>
			
			<div class="">
				<h2>버튼 Button</h2>
				<div>
					<button class="btn">버튼</button>
					<button class="btn a">버튼</button>
					<button class="btn b">버튼</button>
					<button class="btn c">버튼</button>
					<button class="btn d">버튼</button>
					<button class="btn e">버튼</button>
					<button class="btn disabled">버튼</button>
					<button class="btn a disabled">버튼</button>
					<button class="btn b disabled">버튼</button>
					<button class="btn c disabled">버튼</button>
					<button class="btn d disabled">버튼</button>
					<button class="btn e disabled">버튼</button>
				</div>
				<h2>버튼 Link</h2>
				<div>
					<a href="javascript: void(0)" class="btn">버튼</a>
					<a href="javascript: void(0)" class="btn a">버튼</a>
					<a href="javascript: void(0)" class="btn b">버튼</a>
					<a href="javascript: void(0)" class="btn c">버튼</a>
					<a href="javascript: void(0)" class="btn d">버튼</a>
					<a href="javascript: void(0)" class="btn e">버튼</a>
					<a href="javascript: void(0)" class="btn disabled">버튼</a>
					<a href="javascript: void(0)" class="btn a disabled">버튼</a>
					<a href="javascript: void(0)" class="btn b disabled">버튼</a>
					<a href="javascript: void(0)" class="btn c disabled">버튼</a>
					<a href="javascript: void(0)" class="btn d disabled">버튼</a>
					<a href="javascript: void(0)" class="btn e disabled">버튼</a>
				</div>
			</div>
			<div class="">
				<h2>인풋박스</h2>
				<div>

				</div>
			</div>
			<div class="">
				<h2>라디오 버튼</h2>
				<label class="radio">
					<input type="radio" name="radioGroup" aria-checked="true" checked />
					<span>라디오 1</span>
				</label>
				<label class="radio">
					<input type="radio" name="radioGroup" aria-checked="false" />
					<span>라디오 2</span>
				</label>
				<label class="radio">
					<input type="radio" name="radioGroup" aria-checked="false" disabled="disabled">
					<span>라디오 3</span>
				</label>
			</div>


			<div class="">
				<h2>체크 박스</h2>
				<label class="checkbox">
					<input type="checkbox" name="checkboxGroup" aria-checked="true" checked>
					<span>체크박스 1</span>
				</label>
				<label class="checkbox">
					<input type="checkbox" name="checkboxGroup" aria-checked="false" >
					<span>체크박스 2</span>
				</label>
				<label class="checkbox">
					<input type="checkbox" name="checkboxGroup" aria-checked="false"  disabled="disabled">
					<span>체크박스 2</span>
				</label>
			</div>
			<div class="">
				<h2>스위치</h2>
				<div class="switch">
					<input type="checkbox" id="toggle">
					<label for="toggle"></label>
				</div>
			</div>
			<div class="">
				<h2>탭</h2>
				<div class="ui-tab">
					<div class="tab-menu">
						<button type="button" onclick="tabEvent(this)" aria-controls="tab-content01">tab-menu01</button>
						<button type="button" onclick="tabEvent(this)" aria-controls="tab-content02">tab-menu02</button>
						<button type="button" onclick="tabEvent(this)" aria-controls="tab-content03">tab-menu03</button>
						<button type="button" onclick="tabEvent(this)" aria-controls="tab-content04">tab-menu04</button>
					</div>
					<div class="tab-content">
						<div id="tab-content01">tab-content01</div>
						<div id="tab-content02">tab-content02</div>
						<div id="tab-content03">tab-content03</div>
						<div id="tab-content04">tab-content04</div>
					</div>
				</div>
			</div>
			
			<div class="">
				<h2>모달</h2>
				<!-- <button class="btn" aria-haspopup="true" onclick="openPopup('modal01' , {position : 'top', confirmFn: function(){popupEx(), console.log('확인') } })">상단 팝업 호출해보자</button> -->
				<button class="btn" aria-haspopup="true" onclick="openPopup('modal02' , {confirmFn: function(){popupEx(), console.log('확인') } })">중앙 팝업 호출해보자</button>
				<!-- <button class="btn" aria-haspopup="true" onclick="openPopup('modal02')">중앙 팝업 호출해보자</button> -->
				<button class="btn" aria-haspopup="true" onclick="openPopup('modal03' , {position : 'bottom', confirmFn: function(){popupEx(), console.log('확인') } })">하단 팝업 호출해보자</button>
				<!-- <button class="btn openPopup" aria-haspopup="true" onclick="openPopup('modal02')">팝업 호출해보자</button> -->
			</div>
			<div class="">
				<h2>알럿 / 컨펌</h2>
				<!-- <button type="button" class="btn" onclick="openAlert('alert-id01', '제목입니다.', '여기가 알럿 내용입니다.')">알럿</button> -->
				<button type="button" class="btn alert" aria-haspopup="true" onclick="openAlert('alert-id01', {title: '제목입니다', text:' 알럿 내용이지롱..', confirmFn: function() {alertEx(), console.log('실행후 함수')} })">알럿</button>
				<button type="button" class="btn confirm" aria-haspopup="true" onclick="openAlert('confirmFn-id01', {title: '컨펌 제목입니다', text:' 컨펌 내용입니다.', confirmFn: function() {alertEx(), console.log('실행후 함수')}})">컨펌</button>
				<!-- <div class="ui-alert"></div> -->
			</div>
			
			<div class="">
				<h2>아코디언</h2>
				<div class="accordion">
					<ul>
						<li>
							<button class="headBtn" type="button" aria-controls="section1" aria-expanded="false">이벤트 위임을 통한 아코디언 메뉴1</button>
							<div class="content" role="region" id="section1" aria-labelledby="section1" aria-hidden="true">
								<div class="inner">
									컨텐츠1
									컨텐츠1 <br>
									컨텐츠1 <br>
								</div>
							</div>
						</li>
						<li>
							<button class="headBtn" type="button" aria-controls="section2" aria-expanded="false">이벤트 위임을 통한 아코디언 메뉴2</button>
							<div class="content" role="region" id="section2" aria-labelledby="section2" aria-hidden="true">
								<div class="inner">
									컨텐츠2 <br>
									컨텐츠2 <br>
									컨텐츠2 <br>
									컨텐츠2 <br>
								</div>
							</div>
						</li>
						<li>
							<button class="headBtn" type="button" aria-controls="section3" aria-expanded="false">이벤트 위임을 통한 아코디언 메뉴3</button>
							<div class="content" role="region" id="section3" aria-labelledby="section3" aria-hidden="true">
								<div class="inner">
									컨텐츠3 <br>
									컨텐츠3 <br>
									컨텐츠3 <br>
									컨텐츠3 <br>
									컨텐츠3 <br>
									컨텐츠3 <br>
									컨텐츠3 <br>
								</div>
							</div>
						</li>
					</ul>
				</div>

				<h2>아코디언 함수형</h2>
				<div class="accordion2">
					<ul>
						<li>
							<button class="headBtn" type="button" aria-controls="section4" aria-expanded="false" onclick="accaordionFn()">함수형 아코디언 메뉴1</button>
							<div class="content" role="region" id="section4" aria-labelledby="section4" aria-hidden="true">
								<div class="inner">
									컨텐츠1
									컨텐츠1 <br>
									컨텐츠1 <br>
								</div>
							</div>
						</li>
						<li>
							<button class="headBtn" type="button" aria-controls="section5" aria-expanded="false" onclick="accaordionFn()">함수형 아코디언 메뉴2</button>
							<div class="content" role="region" id="section5" aria-labelledby="section5" aria-hidden="true">
								<div class="inner">
									컨텐츠2 <br>
									컨텐츠2 <br>
									컨텐츠2 <br>
									컨텐츠2 <br>
								</div>
							</div>
						</li>
						<li>
							<button class="headBtn" type="button" aria-controls="section6" aria-expanded="false" onclick="accaordionFn()">함수형 아코디언 메뉴3</button>
							<div class="content" role="region" id="section6" aria-labelledby="section6" aria-hidden="true">
								<div class="inner">
									컨텐츠3 <br>
									컨텐츠3 <br>
									컨텐츠3 <br>
									컨텐츠3 <br>
									컨텐츠3 <br>
									컨텐츠3 <br>
									컨텐츠3 <br>
								</div>
							</div>
						</li>
					</ul>
				</div>
			</div>
			<div class="">
				<h2>스와이프</h2>
			</div>
			<div class="">
				<h2>차트</h2>
			</div>
			
			<div class="">
				<h2>로딩</h2>
			</div>
			<div class="">
				<h2>리스트 테이블[적응형]</h2>
				<div class="list-table">
					<ul>
						<li>
							<div class="th">테이블 헤드</div>
							<div class="td">테이블 컨텐츠</div>
						</li>
						<li>
							<div class="th">테이블 헤드</div>
							<div class="td">테이블 컨텐츠</div>
						</li>
						<li>
							<div class="th">테이블 헤드</div>
							<div class="td">테이블 컨텐츠</div>
						</li>
						<li>
							<div class="th">테이블 헤드</div>
							<div class="td">테이블 컨텐츠</div>
						</li>
						<li class="cols">
							<div class="th">테이블 헤드</div>
							<div class="td">테이블 컨텐츠</div>
						</li>
						<li class="cols2">
							<div class="th">테이블 헤드</div>
							<div class="td">테이블 컨텐츠</div>
						</li>
						<li class="cols3">
							<div class="th">테이블 헤드</div>
							<div class="td">테이블 컨텐츠</div>
						</li>
						<li>
							<div class="th">테이블 헤드</div>
							<div class="td">테이블 컨텐츠</div>
						</li>
						<li>
							<div class="th">테이블 헤드</div>
							<div class="td">테이블 컨텐츠</div>
						</li>
						<li>
							<div class="th">테이블 헤드</div>
							<div class="td">테이블 컨텐츠</div>
						</li>
						<li>
							<div class="th">테이블 헤드</div>
							<div class="td">테이블 컨텐츠</div>
						</li>
					</ul>
				</div>
			</div>
		</main>
		<!-- 푸터 -->
		<footer>
			constant 
		</footer>
	</div>

	<!-- 모달 팝업 -->
	<div class="ui-popup" role="dialog" aria-modal="true" id="modal01">
		<div class="pop-header">
			<h3>팝업 헤드</h3>
			<button class="btn" onclick="closePopup()"> 닫기</button>
		</div>
		<div class="pop-content">
			
		</div>
		<div class="pop-footer">
			<button class="btn confirm">확인</button>
		</div>
	</div>
	<div class="ui-popup" role="dialog" aria-modal="true" id="modal02">
		<div class="pop-header">
			<h3>팝업 헤드22222222222</h3>
			<button class="btn" onclick="closePopup()">닫기</button>
		</div>
		<div class="pop-content">
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>
			팝업 컨텐츠22222 <br>

		</div>
		<div class="pop-footer">
			<button class="btn confirm">확인</button>
		</div>
	</div>
	<div class="ui-popup" role="dialog" aria-modal="true" id="modal03">
		<div class="pop-header">
			<h3>팝업 헤드 3333333</h3>
			<button class="btn" onclick="closePopup()">닫기</button>
		</div>
		<div class="pop-content">
			팝업 컨텐츠3333333 <br>
			팝업 컨텐츠3333333 <br>
			팝업 컨텐츠3333333 <br>
			팝업 컨텐츠3333333 <br>
			팝업 컨텐츠3333333 <br>
		</div>
		<div class="pop-footer">
			<button class="btn confirm">확인</button>
		</div>
	</div>

<script src="../js/swiper-bundle.min.js"></script>
<script src="../js/ui.js"></script>
<script>
	const alertEx = () => {
		console.log('알럿, 컨펌 함수 실행')
	}
	const popupEx = () => {
		
		console.log('팝업 함수 실행')
	}

	document.addEventListener('DOMContentLoaded', function() {
		// tabMenu 함수 호출
		// tabMenu(2);
		tabString('tab-content01');
		
	});
		
	// 수정된 데이터 예시
	var jsonData = [
		{ "imageSrc": "https://swiperjs.com/demos/images/nature-1.jpg", "largeImageSrc": "https://swiperjs.com/demos/images/nature-1.jpg" },
		{ "imageSrc": "https://swiperjs.com/demos/images/nature-2.jpg", "largeImageSrc": "https://swiperjs.com/demos/images/nature-2.jpg" },
		{ "imageSrc": "https://swiperjs.com/demos/images/nature-3.jpg", "largeImageSrc": "https://swiperjs.com/demos/images/nature-3.jpg" },
		{ "imageSrc": "https://swiperjs.com/demos/images/nature-4.jpg", "largeImageSrc": "https://swiperjs.com/demos/images/nature-4.jpg" },
		{ "imageSrc": "https://swiperjs.com/demos/images/nature-5.jpg", "largeImageSrc": "https://swiperjs.com/demos/images/nature-5.jpg" },
		{ "imageSrc": "https://swiperjs.com/demos/images/nature-6.jpg", "largeImageSrc": "https://swiperjs.com/demos/images/nature-6.jpg" },
		// 추가적인 데이터는 필요에 따라 계속해서 추가하세요.
	];

	// 슬라이드 동적으로 생성하는 함수
	function createSlides(str, swiperInstance, data) {
		const container = document.getElementById(str); // swiper-wrapper-1, swiper-wrapper-2 가 호출...
		const swiperWrapper = container.querySelector(".swiper-wrapper"); // 자식 wrapper
		data.forEach(function (item, index) {
			const slide = document.createElement("div");
			slide.className = "swiper-slide";
			const image = document.createElement("img");

			if( swiperWrapper.closest('.bigSwiper') ) {
				image.src = item.largeImageSrc;
			}else {
				image.src = item.imageSrc;
			}

			image.setAttribute("data-index", index); // 이미지의 인덱스를 데이터 속성에 추가
			slide.appendChild(image);
			swiperWrapper.appendChild(slide);

		});
		// 스와이퍼에 업데이트를 알리고 초기화
		swiperInstance.update();
    	swiperInstance.init();
	}

	// 스와이퍼 팝업 함수
	const swiperWrapper = document.querySelector(".container-swiper");
	swiperWrapper.addEventListener('click', function (e) {
		const currentTarget = e.target;
		const bigSwiper = currentTarget.closest('.bigSwiper');


		if (bigSwiper && currentTarget.tagName === 'IMG') {

			var _index = parseInt(currentTarget.getAttribute("data-index"), 10);
			const imageData = jsonData[_index];

			// 팝업 호출 함수
			openPopup('modal01', {});

			const clickedSlide = currentTarget.closest('.container-swiper');
			document.getElementById('modal01').classList.add('swiper-pop');

			const clonedSlide = clickedSlide.cloneNode(true);
			const popupContent = document.getElementById('modal01').querySelector('.pop-content');
			
			popupContent.appendChild(clonedSlide);
			popupContent.querySelector('.bigSwiper').setAttribute('id', 'swiper-wrapper-4');
			popupContent.querySelector('.smallSwiper').setAttribute('id', 'swiper-wrapper-3');

			// 기존 스와이퍼 id 중복을 방지하고 클론된 스와이퍼 초기화
			const mySwiper3 = new Swiper("#swiper-wrapper-3", {
				spaceBetween: 0,
				slidesPerView: 6,
				freeMode: true,
				watchSlidesProgress: true,
				observer: true, 
				observeParents: true, 
				initialSlide: _index, // 인덱스 값 초기화 
			});

			const mySwiper4 = new Swiper("#swiper-wrapper-4", {
				spaceBetween: 0,
				observer: true, 
				observeParents: true,
				navigation: {
					nextEl: ".swiper-button-next",
					prevEl: ".swiper-button-prev",
				},
				thumbs: {
					swiper: mySwiper3, // 썸네일 스와이퍼 연결
				},
				initialSlide: _index, // 인덱스 값 초기화 
			});

			// Swiper3 및 Swiper4에 슬라이드 추가
			if (mySwiper3.slides.length < jsonData.length) {
				createSlides("swiper-wrapper-3", mySwiper3, [imageData]);
			}
			if (mySwiper4.slides.length < jsonData.length) {
				createSlides("swiper-wrapper-4", mySwiper4, [imageData]);
			}
		} else {
			return;
		}
	});

	const mySwiper = new Swiper(".mySwiper", {
		spaceBetween: 0,
		slidesPerView: 6,
		freeMode: true,
		watchSlidesProgress: true,
		observer: true,	// 추가
  		observeParents: true,	// 추가
		
	});

	const mySwiper2 = new Swiper(".mySwiper2", {
		spaceBetween: 0,
		observer: true,	// 추가
  		observeParents: true,	// 추가
		navigation: {
			nextEl: ".swiper-button-next",
			prevEl: ".swiper-button-prev",
		},
		thumbs: {
			swiper: mySwiper,
		},
		
	});

	// Swiper1에 슬라이드 추가
	createSlides("swiper-wrapper-1", mySwiper, jsonData);

	// Swiper2에 슬라이드 추가
	createSlides("swiper-wrapper-2", mySwiper2, jsonData);

	
</script>
</body>
</html>
